<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./styles/style.css" />
    <!-- <link rel="stylesheet" href="./styles/auth-modal.css"> -->
    <title>ReuniteAI</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap"
      rel="stylesheet"
    />
    <script src="https://kit.fontawesome.com/cdfe75faaa.js" crossorigin="anonymous"></script>
    <script
      async
      crossorigin="anonymous"
      data-clerk-publishable-key="pk_test_d2l0dHktbWluay0zNy5jbGVyay5hY2NvdW50cy5kZXYk"
      src="https://witty-mink-37.clerk.accounts.dev/npm/@clerk/clerk-js@5/dist/clerk.browser.js"
      type="text/javascript"
    ></script>
  </head>

  <body>
    <!-- 
      login modal
      <div id="login-modal" class="modal hidden">
        <div class="modal-content">
          <button class="close-modal">&times;</button>
          <button class="microsoft-auth"><img src="./icons/microsoft.svg" alt="microsoft logo icon">Continue with Microsoft</button>
          <div class="or">or</div>
          <form class="login-form">
            <label>Email</label>
            <input type="email" placeholder="you@example.com" />
            <label>Password</label>
            <input type="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" />
            <button type="submit">Log in</button>
          </form>
          <div class="extra-links">
            <a href="#">Reset password</a> ‚Ä¢ <a href="#" class="link-signup">Create account</a>
          </div>
        </div>
      </div>

      sign-up modal
      <div id="signup-modal" class="modal hidden">
        <div class="modal-content">
          <button class="close-signup-modal">&times;</button>
          <h2 class="modal-title">Welcome to ReuniteAI</h2>
          <p class="terms-text">
            By clicking "Create account", you agree to the ReuniteAI <a href="#">Terms of Service</a> and acknowledge the <a href="#">Privacy Policy</a>.
          </p>
          <button class="microsoft-auth"><img src="./icons/microsoft.svg" alt="microsoft logo icon">Continue with Microsoft</button>
          <div class="or">or</div>
          <form class="signup-form">
            <label>Email</label>
            <input type="email" placeholder="you@example.com" />
            <label>Password</label>
            <input type="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" />
            <button type="submit">Create account</button>
          </form>
          <div class="extra-links">
            <p class="existing-acct">Already have an account? <a href="#" class="link-login">Log in</a></p>
          </div>
        </div>
      </div>
    -->
      
    <header>
      <nav class="navbar">
        <div class="nav-section nav-left">
          <div class="logo">
            <a href="/">ReuniteAI</a>
          </div>
        </div>
        <div class="nav-section nav-center">
          <a href="#">How It Works</a>
          <a href="#">About</a>
          <a href="#">Check Report Status</a>
        </div>
        
        <div id="signed-out-nav" class="nav-section nav-right" style="display: none;">
          <a href="#" id="login-button" class="nav-auth">Log in</a>
          <a href="#" id="signup-button" class="nav-auth outlined">Sign up</a>
        </div>

        <div id="signed-in-nav" class="nav-section nav-right" style="display: none; align-items: center; gap: 16px;">
          <a href="./dashboard.html" class="nav-auth outlined">My Dashboard</a>
          <div id="user-button"></div>
        </div>

      </nav>
    </header>

    <main>
      <section class="hero">
        <p class="hero-subheading">üéØ AI-powered University Lost & Found</p>
        <h1 class="hero-heading">
          Lost something? Found something?<br />
          <span>ReuniteAI</span> uses AI to reconnect you with your lost items.
        </h1>
        <p class="hero-description">
          Fast, reliable, and secure recovery powered by smart search and
          verification. Get back what matters, effortlessly.
        </p>

        <section class="quick-report">
          <h2 class="qr-title">Quick Report</h2>
          <p class="qr-subtitle">
            Report a lost or found item in just a few clicks.
          </p>

          <div class="qr-actions">
            <a href="./report-lost.html" class="qr-button lost">
              <i class="fa-solid fa-magnifying-glass icon"></i>
              <span>I lost something</span>
            </a>

            <a href="./report-found.html" class="qr-button found">
              <i class="fa-solid fa-box-open icon"></i>
              <span>I found something</span>
            </a>
          </div>
        </section>
      </section>
    </main>

    <footer class="site-footer">
      <div class="footer-content">
        <div class="footer-brand">
          <h3>ReuniteAI</h3>
          <p>Helping students get back what matters!.</p>
        </div>

        <div class="footer-links">
          <a href="#">Help Center</a>
          <a href="#">Contact</a>
          <a href="#">Privacy Policy</a>
          <a href="#">Terms of Service</a>
        </div>
      </div>

      <div class="footer-bottom">
        <p>&copy; 2025 ReuniteAI. All rights reserved.</p>
        <p>Built with ‚ù§Ô∏è for students by ReuniteAI.</p>
      </div>
    </footer>
    <!-- 
    <script>
      const modal = document.getElementById("login-modal");
      const modalContent = modal.querySelector(".modal-content");
      const loginBtn = document.querySelector(".nav-auth");
      const closeBtn = document.querySelector(".close-modal");
      const signupBtn = document.querySelector(".nav-auth.outlined");
      const signupModal = document.getElementById("signup-modal");
      const signupCloseBtn = signupModal.querySelector(".close-signup-modal");
      const switchToSignup = document.querySelector(".link-signup");
      const switchToLogin = document.querySelector(".link-login");
      function openModal() {
        modal.classList.remove("hidden");
        modalContent.classList.remove("fade-out");
        document.body.classList.add("modal-open");
      }
      function closeModal() {
        modalContent.classList.add("fade-out");
        setTimeout(() => {
          modal.classList.add("hidden");
          modalContent.classList.remove("fade-out");
          document.body.classList.remove("modal-open");
        }, 300);
      }
      loginBtn.addEventListener("click", (e) => {
        e.preventDefault();
        openModal();
      });
      closeBtn.addEventListener("click", () => {
        closeModal();
      });
      window.addEventListener("click", (e) => {
        if (e.target === modal) {
          closeModal();
        }
      });
      signupBtn.addEventListener("click", (e) => {
        e.preventDefault();
        signupModal.classList.remove("hidden");
        signupModal.querySelector(".modal-content").classList.remove("fade-out");
        document.body.classList.add("modal-open");
      });
      signupCloseBtn.addEventListener("click", () => {
        signupModal.querySelector(".modal-content").classList.add("fade-out");
        setTimeout(() => {
          signupModal.classList.add("hidden");
          signupModal.querySelector(".modal-content").classList.remove("fade-out");
          document.body.classList.remove("modal-open");
        }, 300);
      });
      window.addEventListener("click", (e) => {
        if (e.target === signupModal) {
          signupCloseBtn.click();
        }
      });
      switchToSignup.addEventListener("click", (e) => {
        e.preventDefault();
        modal.classList.add("hidden");
        signupModal.classList.remove("hidden");
      });
      switchToLogin.addEventListener("click", (e) => {
        e.preventDefault();
        signupModal.classList.add("hidden");
        modal.classList.remove("hidden");
      });
    </script>
    -->
    <script>
      window.addEventListener('load', async function () {
        const Clerk = window.Clerk;

        try {
          await Clerk.load();
          console.log("Clerk is loaded and ready!");

          const userButtonDiv = document.getElementById('user-button');
          const signedInNav = document.getElementById('signed-in-nav');
          const signedOutNav = document.getElementById('signed-out-nav');
          const loginButton = document.getElementById('login-button');
          const signupButton = document.getElementById('signup-button');

          function updateNav() {
            if (Clerk.user) {
              signedOutNav.style.display = 'none';
              signedInNav.style.display = 'flex';
              if (!userButtonDiv.hasChildNodes()) {
                Clerk.mountUserButton(userButtonDiv);
              }
            } else {
              signedInNav.style.display = 'none';
              signedOutNav.style.display = 'flex';
            }
          }

          updateNav();

          Clerk.addListener(({ user }) => {
            console.log("auth state change, updating UI")
            updateNav();
          });

          loginButton.addEventListener('click', (e) => {
            e.preventDefault();
            Clerk.openSignIn();
          });
          signupButton.addEventListener('click', (e) => {
            e.preventDefault();
            Clerk.openSignUp();
          });

        } catch (err) {
          console.error('Clerk failed to load', err);
        }
      });

    </script>
  </body>
</html>
